<!DOCTYPE html>
<html>
<head>
    <title>Trapping Rain Water</title>
    <script type="text/javascript" src="highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" type="text/css" href="xcode.css">
</head>
<body>
<h3>Trapping Rain Water</h3>
<div class="description" font-size="5px">
    <p><font size="2">Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it is able to trap after raining.</font></p>
    <p><font size="2">For example, </font></p>
    <p><font size="2">Given [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1], return 6.</font></p>
    <img src="rainwatertrap.png">
    <p><font size="1">Picture comes from leetcode.com by Marcos</font></p>
    <p><font size="2">and [3, 4, -1, 1] return 2.</font></p>
    <p><font size="2">Your algorithm should run in O(n) time and uses constant space.</font></p>
    
</div>
<div style = "overflow: scroll">  
    <pre><code>
class Solution {
public:
    int trap(int A[], int n) {
        if(n == 0) return 0;
        int l = 0, r = n - 1, block = 0, all = 0, curlevel = 0;
        while(l <= r)
        {
            if(min(A[l], A[r]) > curlevel) 
            {
                all += (min(A[l], A[r]) - curlevel) * (r - l + 1);
                curlevel = min(A[l], A[r]);
            }
            if(A[l] < A[r]) 
                block += A[l++];
            else 
                block += A[r--];
        }
        return all - block;
    }
};
    </code></pre>
</div>

</body>
</html>